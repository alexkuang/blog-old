
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>alex kuang</title>
  <meta name="author" content="Alex Kuang">

  
  <meta name="description" content="As mentioned previously, this dish came primarily out of
spotting a new shape of pasta at a local market. The idea is heavily inspired by risotto: &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://alexkuang.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="alex kuang" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Fjalla+One" rel="stylesheet" type="text/css">
<!--- MathJax Configuration -->
<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-44908431-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">alex kuang</a></h1>
  
    <h2>professional yak shaver</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscribe" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewbox="0 0 100 100"><path class="social" d="M 13.310204,73.332654 C 5.967347,73.332654 0,79.322448 0,86.621428 c 0,7.338776 5.967347,13.262246 13.310204,13.262246 7.370408,0 13.328572,-5.92245 13.328572,-13.262246 0,-7.29898 -5.958164,-13.288774 -13.328572,-13.288774 z M 0.01530612,33.978572 V 53.143878 C 12.493878,53.143878 24.229592,58.02347 33.068368,66.865306 41.894898,75.685714 46.767346,87.47449 46.767346,100 h 19.25 C 66.017346,63.592858 36.4,33.979592 0.01530612,33.978572 l 0,0 z M 0.03877552,0 V 19.17449 C 44.54796,19.17551 80.77551,55.437756 80.77551,100 H 100 C 100,44.87653 55.15102,0 0.03877552,0 z"></path></svg></a></li>
  
</ul>
  
  
  
  
  
  
  
    
      <form action="https://www.google.com/search" method="get">
        <fieldset role="search">
          <input type="hidden" name="sitesearch" value="alexkuang.github.io" />
    
          <input class="search" type="text" name="q" results="0" placeholder="Search"/>
        </fieldset>
      </form>
  
<ul class="main-navigation">
  <li><a href="/about">about</a></li>
  <li><a href="/">blog</a></li>
  <li><a href="/blog/archives">archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/03/28/one-pot-torchio/">One Pot Torchio With Spicy Sausage</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-03-28T15:49:06-04:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>3:49 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="center" src="http://waffleparadox.smugmug.com/Food/Torchio-w-Sausage/i-hJtKLk9/0/L/DSC_3437-L.jpg"></p>

<p>As mentioned <a href="http://alexkuang.com/blog/2015/03/28/side-rant-pasta/">previously</a>, this dish came primarily out of
spotting a new shape of pasta at a local market.  The idea is heavily inspired by risotto: Instead of doing the
conventional song and dance of boiling the pasta separately and recombining, everything is just done in one place.  It&rsquo;s
a bit less effort (I mean, who likes straining pasta? Communists, that&rsquo;s who) and the result turned out really nice.
The absorbs all the flavor from the ingredients vs just salted water, and the sauce gets all thick and velvety due to
getting the full brunt of the starch from the pasta.</p>

<h2>Ingredients</h2>

<p><img class="center" src="http://waffleparadox.smugmug.com/Food/Torchio-w-Sausage/i-BwgT8Qc/0/L/DSC_3415-L.jpg"></p>

<p>The ingredients are simple enough for one portion:</p>

<ul>
<li>1 link spicy italian sausage, de-skinned</li>
<li>&frac12; chopped onion</li>
<li>1 cup+ chicken broth</li>
<li>1 handful pasta</li>
<li>arugula</li>
</ul>


<p>What&rsquo;s &ldquo;1 handful&rdquo;?  Well, whatever you would consider one portion.  If I had to guess, I&rsquo;d say somewhere around &frac34;
cup.  But I generally don&rsquo;t like getting all anal about measuring savory foods.  That&rsquo;s reserved for baking and pastry,
which actually demand the precision.</p>

<h2>Methodology</h2>

<h4>Brown the onion and meat</h4>

<p>First, take a pot with some oil over medium-high heat and chuck the onions in.  Let them fry around a little bit, then
add the sausage.  Keep cooking until nicely browned.  As a note, do try to avoid doing this in a nonstick pot/pan.  We
want the delicious fond (AKA burnt crunchy bits) at the bottom, since that will add more flavor to the sauce.</p>

<p><img class="center" src="http://waffleparadox.smugmug.com/Food/Torchio-w-Sausage/i-kLsvwXG/0/L/DSC_3426-L.jpg"></p>

<h4>Add stock and pasta</h4>

<p>Pretty self-explanatory.  Add the stock with the pasta, and give everything a good stir.  Much like a risotto, you want
to pay attention to the pasta and keep stirring to prevent sticking.  This also has the nice benefit of integrating the
bits of deliciousness from the browning process.</p>

<p><img class="center" src="http://waffleparadox.smugmug.com/Food/Torchio-w-Sausage/i-76G4qKQ/0/L/DSC_3428-L.jpg"></p>

<p>The cooking time will vary depending on the pasta, but generally following the package guidelines is a good idea.  For
the torchio, that was about 10 min and change.  The goal here is to cook everything through and reduce the stock to a
sauce-like consistency.  I find it helps to kind of keep things at light boil for most of the way to prevent
over-reducing, then just crank up the heat at the last few minutes as appropriate.</p>

<p>Also notice I haven&rsquo;t said anything about seasoning with salt.  This is because the stock will get stronger as it
reduces, so between that and the sausage meat there is probably enough salt in the dish already.  If anything, it might
be better to err on the side of caution and either cut the amount of stock with a bit of water or use low-sodium (if
you&rsquo;re buyin pre-packaged) and just add the salt back if necessary.</p>

<p><img class="center" src="http://waffleparadox.smugmug.com/Food/Torchio-w-Sausage/i-7K5ZCRw/0/L/DSC_3433-L.jpg"></p>

<p>About a minute from done.  Check that starch.</p>

<h4>Turn off flame, fold in arugula</h4>

<p>Honestly, the pasta would probably be fine as-is, but it could definitely use some color and a vegetable element.
I used arugula, but some baby spinach or sauteed asparagus would also work.  For something like arugula, use more
than you think you need.  It wilts down in no time.</p>

<p><img class="center" src="http://waffleparadox.smugmug.com/Food/Torchio-w-Sausage/i-cdXrKCv/0/L/DSC_3435-L.jpg"></p>

<h4>Cheese and plate</h4>

<p><img class="center" src="http://waffleparadox.smugmug.com/Food/Torchio-w-Sausage/i-mTLxNKf/0/L/DSC_3446-L.jpg"></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/03/28/side-rant-pasta/">A Side Rant on Pasta</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-03-28T13:59:04-04:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>1:59 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="center" src="http://waffleparadox.smugmug.com/Food/Torchio-w-Sausage/i-RLfRc4f/0/L/DSC_3412-L.jpg"></p>

<p>I have the fortune of living near a couple of markets that stock Rustichella, and this morning I spotted
some in a shape that I hadn&rsquo;t seen before and kinda had to go for it.  Nickel to anyone who guesses why it&rsquo;s called
&ldquo;torchio.&rdquo;</p>

<p>I was in the middle of drumming up a post about what I ended up making with it but got kind of caught up in a side-rant
that I realized I hadn&rsquo;t written about before and probably deserved its own post, so&hellip;  Here it is.</p>

<h3>All Dried Pasta</h3>

<p>I&rsquo;ve heard a fair amount of people say (especially on shared grocery trips with college-level budgets) that &ldquo;pasta is
just pasta&rdquo; so the preferable choice is the cheapest one.  I don&rsquo;t disagree with the principle of making sure you get
appropriate value for your money, but I do disagree with that assessment of pasta&ndash;even the dried stuff.</p>

<p>There are significant (if subtle) differences in the quality of product between different tiers of manufacturers, and it
mostly boils down to two things: process, and ingredients.</p>

<h3>Rustichella</h3>

<p>At the top of my personal tier list is Rustichella Best Pasta&trade;.  They are the best dried pasta I&rsquo;ve tried thus far,
albeit with a price tag to match&ndash;The torchio above cost me about $6 for the package.  This is the pasta I look for when
I&rsquo;m going all-out with home-making-the-hell-out-of-everything.  I mean, if you&rsquo;re going to bother to do a crazy
sauce/etc from scratch, why start skimping on the pasta?</p>

<p>For ingredients, there are only two: durum flour, and water.  Simple, easy.</p>

<p>The process is where it gets a bit more interesting.  A lot of shapes like spaghetti, linguine, and penne are made by
extruding the pasta dough through a set of dies&ndash;basically a device with a hole in it.  Rustichella has their own
in-house bronze die system that works wonders on the end product and gives it a rough texture on the outside.  I don&rsquo;t
have a macro lens, but hopefully it can still be seen here:</p>

<p><img class="center" src="http://waffleparadox.smugmug.com/Food/Torchio-w-Sausage/i-qRrC8cz/0/L/DSC_3451-L.jpg"></p>

<p>Even the smooth, non-ridged parts of the pasta have a nice roughness to it.  What this amounts to is a better ability for
the pasta to carry the sauce that it&rsquo;s mixed with, resulting in an overall better dish.</p>

<p>The other thing I think is worth noting is that Rustichella claims to use a low temperature slow dry, versus a more
typical high temperature quick dry.  My guess is that this yields better consistency in the product and possibly better
texture&ndash;In my experience, exposing dough to high temperatures does make it more prone to gumming up and even cracking.
I do feel like Rustichella has a slightly better mouth feel and cooks more evenly so the drying process could have
something to do with it, but this is purely anecdotal and could just be confirmation bias on my part.</p>

<h3>The Good Stuff</h3>

<p>Next on the list would be
<a href="http://www.amazon.com/De-Cecco-Bucatini-16-Ounce-Boxes/dp/B001EPPBE0/ref=pd_sim_gro_4?ie=UTF8&amp;refRID=12NFHK20DVCYZAESJYFK">De Cecco</a>
and similar brands.  De Cecco is my &ldquo;everyday&rdquo; brand, and my go-to when I don&rsquo;t feel like pulling out all the stops or
when I can&rsquo;t find the shape of Rustichella I want.  And while Rustichella sits at the top of my list, De Cecco isn&rsquo;t too
far behind.  That is to say&hellip;  Rustichella might be leaps and bounds above price-wise and at times that&rsquo;s worth it, but
there isn&rsquo;t a correspondingly crazy gap in terms of the quality of the product.</p>

<p>As far as process, De Cecco still uses bronze dies so their pasta has a decent texture.  If you check out the amazon
link, the zoomed in photo of the boxes actually does a nice job showcasing that.</p>

<p>On ingredients, durum wheat is still at the top of the list (always a good sign!), but there seems to be a bunch of crap
tacked onto the end.  What&rsquo;s kind of funny is that in the amazon description, they say the product is a &ldquo;Good source of
Protein, Thiamin, Folic Acid, Iron, Riboflavin and Niacin&rdquo;, i.e. all of the extra ingredients at the end that aren&rsquo;t
flour.  Not sure if it&rsquo;s a nutrition play for marketing or what, but I wish they&rsquo;d just leave the pasta well enough
alone.</p>

<h3>The Lower Tier</h3>

<p>And trailing the bottom is the likes of
<a href="http://www.amazon.com/Barilla-Pasta-Penne-16-Ounce/dp/B00IB1D764/ref=cm_cr_pr_product_top?ie=UTF8">Barilla</a>,
<a href="http://www.shopwell.com/prince-penne-rigate/pasta/p/4112902036">Prince</a>,
and various grocery store brands.  This is where you start seeing shortcuts everywhere, and these are the ones I would
avoid except under duress.</p>

<p>For ingredients, you see the same deal along the lines of &ldquo;wheat with stuff added in.&rdquo;  However, what&rsquo;s noteworthy here
is that there are now two entries for the wheat in the ingredient list, generally listed as &ldquo;Semolina (Wheat), Durum
(Wheat)&rdquo;.  The difference between various types of flour deserves another post (or five), but the tl;dr is that &ldquo;durum
wheat&rdquo; is generally more process-heavy than &ldquo;semolina wheat&rdquo;.  My theories for the mixing here would be 1) cost cutting,
or 2) using the semolina to offset some other shortcoming in the process, e.g. high temp fast-drying.</p>

<p>A really obvious difference here comes from the process.  Brands in this tier tend to cheap out on their process as
well, and the most noticeable part of that is the use of plastic dies instead of metal ones.  As a result, the pasta&rsquo;s
surface is ultra-smooth, which leads to vastly inferior sauceability.  Go ahead, feel up some spaghetti from both De
Cecco and Prince.  One will be nice and rough, and the other will be as smooth as a shaved baby&rsquo;s bottom&ndash;Not that I
advocate shaving babies or anything.</p>

<h3>Conclusion</h3>

<p>At the end of the day, getting this involved about the quality of dried pasta seems kind of petty, but these little
things add up.  Of course, to be fair, the price difference between, say, De Cecco and Rustichella might not be
reflective of the quality difference.  It&rsquo;s another instance of the 80-20 rule&ndash;On some days I feel like it&rsquo;s worth it,
other days not so much.  But I&rsquo;d argue that everyone that cares about their food should at least spring for something
like De Cecco.  Unless you&rsquo;re cooking with Chef Boyardee and Hamburger Helper, of course.  Then I don&rsquo;t think what pasta
is being used really matters.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/28/vim-ctrlp-plus-bonus-rant/">Thing of the Week: Vim Ctrlp, Plus Bonus Rant</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-01-28T10:09:32-05:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:09 am</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>Normally I don&rsquo;t go too much into plugins, since I don&rsquo;t want to encourage the &ldquo;yeah vim is great, just start with 500
plugins, 490 of which you can probably do without&rdquo; mindset.  But if I were stranded on a deserted server and could pick
only one plugin to install, it would probably be ctrlp.</p>

<p><a href="https://github.com/kien/ctrlp.vim">ctrlp</a> is a fuzzy file finder slash project navigation tool.  As usual it&rsquo;s probably
easier to see a demo before doing any sort of explaining, so here&rsquo;s a quick cast of using ctrlp to navigate the
<a href="https://github.com/zmanio/atmos.git">atmos</a> project.</p>

<script type="text/javascript" src="https://asciinema.org/a/15836.js" id="asciicast-15836" async></script>


<p>So the plugin is activated, predictably, by hitting <code>&lt;ctrl-p&gt;</code> (or firing off the <code>:CtrlP</code> command).  This brings up the
UI, where you can type in a bunch of stuff to search.  The fuzzy finding used is very powerful.  First, you can search
any part of the file path + name and it will work; in the first search I did, I just searched <code>scala</code> which brought up
basically anything under not just <code>src/main/scala</code>, but <code>src/test/scala</code> as well.  This is great for if you&rsquo;re doing a
bit of exploring and want to progressively narrow your results.</p>

<p>The other big point worth noting is that it&rsquo;s fuzzy finding, so you don&rsquo;t have to search contiguous characters.  In the
last example, the search was <code>linearspec</code>, but it still selected <code>LinearBackoffSpec</code>.  In theory, I could probably also
do something like <code>linspecsc</code> (&ldquo;<strong>Lin</strong>earBackoff<strong>Spec</strong>.<strong>sc</strong>ala&rdquo;) and get the same result.  This is crazy powerful,
and makes for some pretty fast workflows.</p>

<p>There are a few other nice features that I won&rsquo;t go too far into, like configurable search domains and easy opening
options (e.g., when I popped the selected file into a <code>vsplit</code> in the last search).  Anyone interested can go dig around
in the repo.</p>

<h3>emacs folks</h3>

<p>I&rsquo;ve been playing around with emacs + evil-mode a lot lately.  The equivalent in emacs, AFAIK, is a combination of
<code>helm</code> and <code>projectile</code>.  Funnily enough, I actually prefer the emacs setup a bit, since the search semantics make more
sense to me, but that&rsquo;s a story for another day&hellip;</p>

<h3>Bonus Philosophical Rant</h3>

<p>On mentioning project navigation, there are inevitably reactions of &ldquo;Oh, what about
<a href="https://github.com/scrooloose/nerdtree">NERDTree</a>? (<a href="http://i.imgur.com/Tzid4.png">screencap</a>)&rdquo;  The problem I have
with NERDTree, and project drawers in general, is that reading is <strong>SLOW</strong>.  What project drawers force you to do is
every time you want to find and open a new file, you have to read down the project tree to find it.  Of course,
directory structures and such can enable speed-reading and make the process a bit faster, but it&rsquo;s still way slow in my
opinion.  Taking a concrete example, the last search for <code>LinearBackoffSpec</code>: With a project drawer, I would have had to
scan through the list of <code>ConstantBackoffSpec</code>, <code>ExponentialBackoffSpec</code>, and so on.  With ctrl-p, I just have to hit
<code>&lt;ctrl-p&gt;linspecsc&lt;enter&gt;</code>, which I can do in the middle of making dinner, with my eyes closed.  Not that I code
regularly in those conditions, <em>ahem</em>&hellip;</p>

<p>I don&rsquo;t have a particularly strong hate for NERDTree, I just feel that given the smooth workflow being available with
the likes of ctrlp and ctags, it sits pretty low in the hierarchy of general project navigation tools.  The one scenario
I could see it being useful is to get a feel for the directory structure in a completely unfamiliar project, but even
then I still prefer the <code>tree</code> command (<code>brew install tree</code> on the mac).  Instead, the extra screen real estate can be
used for stuff like continuously running tests, an extra split for documentation, or a command-line twitter client!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/24/2015-a-whole-new-year/">2015, a Whole New Year!</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-01-24T14:25:50-05:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>2:25 pm</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>It&rsquo;s 2015, and a whole new year!  Several updates, of no particular relation and in no particular order:</p>

<h3>Some Site Updates</h3>

<p>I finally got around to updating Octopress after I noticed the search bar was broken.  The process was
relatively painless and some of the new features look neat, but I can&rsquo;t say I&rsquo;m a huge fan of the enforced solarized
light scheme in codeblocks.</p>

<p>While I was at it, I also decided to refresh the headline and about page, since it&rsquo;s been a while.</p>

<h3>Thing of the Week</h3>

<p>While I&rsquo;ve actually been really good about staying on top of sending the internal email blasts for TotW, I ended up
neglecting the blog cross-posting.  Part of it is because after I started, I had more work-related travel and didn&rsquo;t
have the blog repo all properly set up on the other laptop; and the other part is that translating back and forth
between markdown and outlook is kind of a PITA.  In the future, I will probably set up a proper workflow with pandoc and
everything to make it easier.  But in the meantime, I&rsquo;ve back-posted them with dates tagged for context, plus some bonus
after-the-fact commentary.</p>

<p>As far as the TotW itself, it&rsquo;s been a success in my book.  Reactions have generally been positive, and a lot of the
posts end up generating very interesting conversation where I often end up learning something new.  In addition, to keep
up with the writing I have to be 1) more active in learning new things, and 2) more thorough since I actually have to
write about it.  Win, win.  Next step: to collect more feedback, then perhaps involve more people and hopefully expand
it beyond just my immediate teammates.</p>

<h3>2014 in Review and MicroConf</h3>

<p>Back in late 2013 / early 2014, I was extremely frustrated with a number of things and decided to leave my full-time
job.  After resting off some of the burnout, I set off to build a side project with a friend with two goals in mind: 1) Learn
new tech and get back into the game properly; in this case, Scala and Lift.  2) Build out a prototype scheduling app and
try to bootstrap an actual business with it.  The latter ultimately failed, but I still learned a ton and the knowledge
gained from the former arguably got me to my position today as a Scala developer.  (In hindsight, trying to learn a
completely new tech stack <em>and</em> all the business + domain-specific stuff required was crazy&hellip;  Next time, I would
definitely prototype with something easier and more familiar.)</p>

<p>Without getting too side-tracked, suffice to say that 2014 was insane for personal growth and productivity, and I&rsquo;d love
to continue that trend for 2015.  And while I&rsquo;m definitely not looking to do anything drastic employment-wise, I will
say that the side-project itch has never really left me.  So I figured after all this time listening to the likes of
<a href="http://www.startupsfortherestofus.com/">Startups For The Rest Of Us</a> and <a href="http://bootstrapped.fm/">bootstrapped.fm</a>,
2015 would be a great year to go to MicroConf and actually hang out with all the folks living the lifestyle.  Hopefully
I come back with heaps of new insight and ideas, but either way it looks to be a blast.  Anyway, I managed to snag a
ticket after some cutthroat site-camping and waitlist-waiting, so I am stoked.</p>

<p>tl;dr - VEGAS, BABY!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/24/gn-in-vim/">Thing of the Week: `gn` in Vim</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-01-24T11:53:51-05:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>11:53 am</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>Back to vim this week!  This one might be a bit esoteric&ndash;apologies in advance&ndash;but it’s such a useful feature that I
had to share.</p>

<p><code>gn</code> is a kinda-sorta-but-not-really-motion that selects the matches of the current search pattern.  It’s kind of like
<code>n</code> (go to next match in search), except it also selects the contents of the match in visual mode.  But where it really
shines is when used with operators like <code>c</code> (change), etc to operate on the match.  Quick demo to see it in action,
before continuing:</p>

<script type="text/javascript" src="https://asciinema.org/a/15656.js" id="asciicast-15656" async></script>


<p>So this is nice for a few reasons.  First, it’s neat to be able to operate on just the match of a search.  I remember a
few times before I found <code>gn</code> where I was doing something similar to the demo, tried to use <code>cw</code>, and got mildly annoyed
that I had to retype half the word because the <code>w</code> motion was too aggressive.</p>

<p>Another nice thing is that with <code>gn</code>, the dot command will both move to the next match and repeat whatever operation you
did, instead of having to do the movement and operation separately using <code>n.</code>.  It seems petty, but hey it’s a full 50%
keystroke savings!!</p>

<p>Arguably, the demo above could have been done with an ex command like <code>:%s/test/actual</code> (universal search and replace),
but I think <code>gn</code> still offers a lot.  It works on all operators, so <code>ygn</code> would yank the match, <code>gUgn</code> would uppercase
the match, and so on.  Plus, it allows an easy on-the-fly workflow that’s still decently fast without the “crap I have
to tune all the edge cases in my expression”: for example, if you want to only change some instances of <code>test</code> to
<code>actual</code>, but others to <code>sandbox</code>.</p>

<p>As always, see <code>:h gn</code> for more details.  Also note that gn has only been available since vim 7.4 or something like
that, but there’s no reason anyone shouldn’t be using the latest on their personal boxes…</p>

<h3>Bonus</h3>

<p>This email also generated some additional discussion, which led to my discovery of the multi-select feature in Sublime,
and the <a href="https://github.com/terryma/vim-multiple-cursors">associated vim plugin</a>.  It seems like it&rsquo;s in a different
spirit than <code>gn</code>, but still a very cool way of thinking about operating on search results that I had not seen before.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/24/thread-macro/">Thing of the Week: Thread Macro (01/07/15)</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-01-24T11:53:42-05:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>11:53 am</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>Let’s deviate from Scala for a bit and talk about clojure.  Or lisps in general, I guess.  A lot of the “kinda joking
except not really” quips that commonly float around on the internet are about the parentheses, as in how there are so
many of them.  For example, if you want to take a number <code>x</code> and add one, multiply by two, then add 3, the code might
naively look something like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="nb">+ </span><span class="p">(</span><span class="nb">* </span><span class="p">(</span><span class="nb">+ </span><span class="nv">x</span> <span class="mi">1</span><span class="p">)</span> <span class="mi">2</span><span class="p">)</span> <span class="mi">3</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Or perhaps like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="nb">+ </span><span class="mi">3</span> <span class="p">(</span><span class="nb">* </span><span class="mi">2</span> <span class="p">(</span><span class="nb">+ </span><span class="mi">1</span> <span class="nv">x</span><span class="p">)))</span>
</span></code></pre></td></tr></table></div></figure>


<p>Look at the parens!  Especially the consecutive 3 closing ones in the second variation.  For a sufficiently long chain
of functions, it can get pretty unreadable—especially with multiple arguments and whatnot.</p>

<p>Enter clojure’s thread macro.  The thread macro is a macro in the form of <code>(-&gt; x &amp; forms)</code>, and it “threads” <code>x</code> through
the <code>forms</code> as the first arg*.  Which sounds terribly confusing explained, so an example is probably better here.  Take
this snippet using the thread macro:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="c1">;; add one, multiply by two, and add three</span>
</span><span class='line'><span class="p">(</span><span class="nb">-&gt; </span><span class="nv">x</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">+ </span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">* </span><span class="mi">2</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">+ </span><span class="mi">3</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure>


<p>This desugars into <code>(+ (* (+ x 1) 2) 3)</code>, i.e. the first variation of the initial example above.  Personally, I find the
macro version much more readable since each call is on its own line, and it seems more expressive of applying a series
of functions to the initial x.</p>

<p>The thread macro is also useful for chaining together collection methods like <code>map</code>.  Since clojure doesn’t have
first-class OO support (instead favoring protocols and such), map exists as a regular function that takes the collection
as an arg, instead of as a method on a collection class.  So chaining together a bunch of ops on a vector might look
something like&hellip;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="c1">;; add one to every number and filter for even numbers</span>
</span><span class='line'><span class="p">(</span><span class="nf">-&gt;&gt;</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span><span class="p">]</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">map </span><span class="o">#</span><span class="p">(</span><span class="nb">+ </span><span class="mi">1</span> <span class="nv">%</span><span class="p">))</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">filter </span><span class="nv">even?</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'><span class="c1">;; Without the thread macro, would look like:</span>
</span><span class='line'><span class="p">(</span><span class="nb">filter </span><span class="nv">even?</span> <span class="p">(</span><span class="nb">map </span><span class="o">#</span><span class="p">(</span><span class="nb">+ </span><span class="mi">1</span> <span class="nv">%</span><span class="p">)</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span><span class="p">]))</span>
</span></code></pre></td></tr></table></div></figure>


<p>The only difference is that in this case, ->> was used.  ->> is “thread last”, which is like -> (“thread first”), except
it inserts the expression at the end of the form.</p>

<p>This pattern also exists in other languages (especially those that don’t offer first-class OO, which allows fancy
<code>return self</code> type stuff), like Elixir’s pipe <code>|&gt;</code> (in the spirit of the unix pipe) which is what prompted me to spread
the word about this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="c1"># double and add one to each element</span>
</span><span class='line'><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</span><span class='line'><span class="o">|&gt;</span> <span class="nc">Enum</span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="k">fn</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
</span><span class='line'><span class="o">|&gt;</span> <span class="nc">Enum</span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="k">fn</span> <span class="n">x</span> <span class="p">-&gt;</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>The thread macro pattern doesn’t have as much of a place in Scala, since Scala has mechanisms like the collection
library and implicit conversions to help express similar logic in elegant ways.  But when I first read up on macros in
lisp, I spent some time scratching my head at the day-to-day practical uses until I found this and had my first
“ohhhhhhhhhhhh” moment.  In any case, hope this was mildly interesting!</p>

<p>* - Well technically, as the second item in the form, which is effectively the first arg for functions&hellip; But that might
be a bit too lispy.</p>

<h3>Bonus</h3>

<p>When I published this email to the internal list, it generated some discussion wherein I learned that there are other
neat features of the same sort like <a href="https://clojuredocs.org/clojure.core/doto">doto</a>, and that they&rsquo;re all just
various derivations of the K combinator.  Of course, googling k-combinators led to a pretty
<a href="http://en.wikipedia.org/wiki/SKI_combinator_calculus">heavy looking wiki page</a>, so I was referred to
<a href="http://combinators.info/">http://combinators.info/</a> , which I have been trying to get through since.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/24/keybase-dot-io/">Thing of the Week: keybase.io (12/24/14)</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-01-24T11:53:30-05:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>11:53 am</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>Since it&rsquo;s nearly the holidays, I figured something more frivolous would be good for this week.</p>

<p><a href="https://keybase.io/">keybase.io</a> is a combination public key store slash centralized identity slash hipster social
network app.  How it works is that you generate a key pair and upload the public key to their store.  From there, you
can use your key pair to sign messages and post them on twitter, github, bit coin sites, etc, to verify that those
accounts actually belong to you.  At the end of it, you get a funny page like this saying that “why yes, all of these
accounts are crypto-verified to be the same person”, like this:  <a href="https://keybase.io/alexkuang">https://keybase.io/alexkuang</a></p>

<p>It’s still very much in toy app status at the moment, but I think it’s a really cool idea.  I believe they’re open for
signup now; not sure if there’s a beta line or something, but apparently I have invites if anyone wants.</p>

<p>Happy holidays!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/24/the-silver-searcher/">Thing of the Week: The Silver Searcher (12/17/14)</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-01-24T11:53:21-05:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>11:53 am</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><h3>grep</h3>

<p>This week I’d like to talk about grep.  Grep is a great general-purpose tool and works very well for filtering text in
the middle of a long command chain, but I’ve found it a bit clunky as a codebase search tool.</p>

<p>For example, let’s say you’re sitting in some project and trying to grep for all the places where a function is being
called.  The naïve first attempt would be:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>grep myFunc</span></code></pre></td></tr></table></div></figure>


<p>Except that just hangs, since grep defaults to reading from stdin.  A next attempt might be:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>grep myFunc .</span></code></pre></td></tr></table></div></figure>


<p>Except then grep would complain that . is a directory, which leads to:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>grep –r myFunc .</span></code></pre></td></tr></table></div></figure>


<p>Which finally works, but still leaves a bit to be desired.  The biggest annoyance is that grep will get caught up in
files that you don’t necessarily care about, e.g. Tags files, third-party dependency files, binary files… “Binary file
./lib/default/xxx.jar matches” anyone?</p>

<h3>ag</h3>

<p>Introducing <a href="http://geoff.greer.fm/ag/">ag, the silver searcher</a>!  Ag:</p>

<ul>
<li>Fulfills the above “find this in cwd” use case via a simple, short <code>ag myFunc</code></li>
<li>Is easy to install and super fast</li>
<li>Respects project ignore files: for example, it will ignore the patterns found in your .gitignore</li>
<li>In the case of files that you want in the repo but still don’t want to search, it also supports the use of a .agignore file</li>
<li>Integrates well into other tools: AFAIK there are ag plugins for vim, emacs, and text mate.</li>
</ul>


<p>Fun fact: I was doing the whole <code>grep –r</code> thing for an embarrassingly long time before I bothered to search for a better
workflow.  My initial search turned up ack, which then led to ag.  As far as I can tell, feature-wise they’re
comparable; I eventually settled on ag just ‘cause the command requires less typing.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/24/vim-expansion/">Thing of the Week: Vim % Expansion (12/10/14)</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-01-24T11:52:53-05:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>11:52 am</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><h3>% (Current File Name)</h3>

<p>Another vim tip this week!  This time, it’s about ‘%’, which expands to ‘current file name’.  This is especially useful
in projects with java/scala style directory setups, where your source is approximately 1.5 million folders away from the
project root, but you kind of want to hang around project root for things like ant/sbt/etc to work.  <code>%</code> makes this
easier to work with files in the deeply nested folders while doing this.</p>

<p>Taking a contrived example, instead of doing something like this to <code>git log</code> the file you are currently editing:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>:!git log src/main/scala/com/bizo/(…)/Foo.scala</span></code></pre></td></tr></table></div></figure>


<p>You can just do:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>:!git log %</span></code></pre></td></tr></table></div></figure>


<p>This is extremely convenient and works everywhere in command line mode (basically, whenever ‘:’ is used), but is also
useful to have if you’re ever writing vim script.  See <code>:h expand</code> for the function to use in vim script, and some other
special keywords.</p>

<p>But wait!  There’s more!</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/01/24/vim-expansion/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/24/scala-enrichment/">Thing of the Week: Scala Enrichment (12/03/14)</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-01-24T11:52:37-05:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>11:52 am</span></time>
        
        
      </p>
    
  </header>


  <div class="entry-content"><p>Douglas Crockford recently gave a tech talk at work, where he casually endorsed Scala during the Q&amp;A at the end.  Given
that and the fact that I&rsquo;ve been hearing increasing mentions of it in the company at large, I figured this week I&rsquo;d plug
a neat feature of Scala and a recent use case where I found it extremely handy.</p>

<h3>The Feature</h3>

<p>Anyone who&rsquo;s worked with The AWS SDK (or just Java code in general) will be familiar with the builder pattern.
Recently, I was writing some code to automate setup of CloudWatch alarms for a DynamoDB table.  The alarm request
started looking something like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">val</span> <span class="n">req</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">PutMetricsAlarmRequest</span><span class="o">()</span>
</span><span class='line'>  <span class="o">.</span><span class="n">withNamespace</span><span class="o">(</span><span class="s">&quot;DynamoDB&quot;</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">withDimensions</span><span class="o">(</span><span class="n">dimensionsForTableName</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">withStatistic</span><span class="o">(</span><span class="s">&quot;Sum&quot;</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">withComparisonOperator</span><span class="o">(</span><span class="nc">GreaterThanThreshold</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">withThreshold</span><span class="o">(</span><span class="n">thresholdNumber</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">withMetricName</span><span class="o">(</span><span class="n">throttledMetricName</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">withEvaluationPeriods</span><span class="o">(</span><span class="n">periods</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">withPeriod</span><span class="o">(</span><span class="n">periodDuration</span><span class="o">.</span><span class="n">toSeconds</span><span class="o">.</span><span class="n">toInt</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">withAlarmActions</span><span class="o">(</span><span class="n">idMappingSNS</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">withAlarmName</span><span class="o">(</span><span class="n">alarmNameFor</span><span class="o">(</span><span class="n">tableName</span><span class="o">,</span> <span class="n">throttledMetric</span><span class="o">,</span> <span class="n">throttledThreshold</span><span class="o">))</span>
</span><span class='line'>
</span><span class='line'><span class="n">cloudwatchClient</span><span class="o">.</span><span class="n">putMetricAlarm</span><span class="o">(</span><span class="n">req</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Which is serviceable, but less than ideal given that I had multiple alarms of roughly the same nature.  Plus, I felt
like it left something to be desired in terms of readability and communicating the intent of the alarm in a succinct
way.  Enter <code>implicit class</code>s and the &ldquo;enrichment&rdquo;* pattern!  Basically, it lets us turn the above into something more
like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">val</span> <span class="n">req</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">PutMetricAlarmRequest</span><span class="o">()</span>
</span><span class='line'>  <span class="o">.</span><span class="n">forTable</span><span class="o">(</span><span class="n">tableName</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">triggerOnSumGreaterThan</span><span class="o">(</span><span class="n">throttledMetric</span><span class="o">,</span> <span class="n">throttledThreshold</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">afterEvaluationPeriods</span><span class="o">(</span><span class="n">evaluationPeriodDuration</span><span class="o">,</span> <span class="n">evaluationPeriods</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">withAlarmActions</span><span class="o">(</span><span class="n">idMappingSNS</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">withAlarmName</span><span class="o">(</span><span class="n">alarmNameFor</span><span class="o">(</span><span class="n">tableName</span><span class="o">,</span> <span class="n">throttledMetric</span><span class="o">,</span> <span class="n">throttledThreshold</span><span class="o">))</span>
</span><span class='line'>
</span><span class='line'><span class="n">cloudwatchClient</span><span class="o">.</span><span class="n">putMetricAlarm</span><span class="o">(</span><span class="n">req</span><span class="o">)</span> <span class="cm">/** Can still pass req back into AWS API! */</span>
</span></code></pre></td></tr></table></div></figure>


<p>With the addition of this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">implicit</span> <span class="k">class</span> <span class="nc">MetricAlarmRequestHelper</span><span class="o">(</span><span class="n">req</span><span class="k">:</span> <span class="kt">PutMetricAlarmRequest</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">def</span> <span class="n">forTable</span><span class="o">(</span><span class="n">tableName</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">=</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">req</span><span class="o">.</span><span class="n">withNamespace</span><span class="o">(</span><span class="s">&quot;DynamoDB&quot;</span><span class="o">).</span><span class="n">withDimensions</span><span class="o">(</span><span class="n">tableMetricDimensions</span><span class="o">(</span><span class="n">tableName</span><span class="o">).</span><span class="n">asJava</span><span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="n">triggerOnSumGreaterThan</span><span class="o">(</span><span class="n">metricName</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">threshold</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">req</span><span class="o">.</span><span class="n">withStatistic</span><span class="o">(</span><span class="s">&quot;Sum&quot;</span><span class="o">).</span><span class="n">withComparisonOperator</span><span class="o">(</span><span class="nc">GreaterThanThreshold</span><span class="o">).</span><span class="n">withThreshold</span><span class="o">(</span><span class="n">threshold</span><span class="o">).</span><span class="n">withMetricName</span><span class="o">(</span><span class="n">metricName</span><span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="n">afterEvaluationPeriods</span><span class="o">(</span><span class="n">periodDuration</span><span class="k">:</span> <span class="kt">Duration</span><span class="o">,</span> <span class="n">periods</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">req</span><span class="o">.</span><span class="n">withEvaluationPeriods</span><span class="o">(</span><span class="n">periods</span><span class="o">).</span><span class="n">withPeriod</span><span class="o">(</span><span class="n">periodDuration</span><span class="o">.</span><span class="n">toSeconds</span><span class="o">.</span><span class="n">toInt</span><span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/01/24/scala-enrichment/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    
  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Alex Kuang -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | Themed with <a href="https://github.com/lucaslew/whitespace">Whitespace</a></span>
</p>

</footer>
  










  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
